<template args="model">
    <div class="floating-tools" skip="true"></div>
    <div class="sticky-footer-region" skip="true"></div>
    <if condition="model.frontier">
        <section id="new-frontier">
            <div class="background-imagery">
                <div class="top-image"></div>
                <div class="middle-image"></div>
                <div class="bottom-image"></div>
            </div>
            <div class="text-content">
                <div class="above-head smaller">
                    <div>{model.access.text}</div>
                    <a href="{model.access.url}" class="btn small">{model.access.label}</a>
                </div>
                <div class="headline">
                    <img id="tutor-logo" alt="OpenStax Tutor beta logo" src="/images/openstax-tutor/tutor-logo.svg">
                    <div class="headline-text">
                        <h1>{model.frontier.headline}</h1>
                        <div class="blurb">{model.frontier.subhead}</div>
                        <div class="blurb" data-html="frontier.description" skip="true"></div>
                        <a href="{model.frontier.learnMore.href}" class="btn primary">
                            {model.frontier.learnMore.text}
                        </a>
                    </div>
                </div>
            </div>
        </section>
        <section id="how-it-works">
            <div id="how-it-works-target"></div>
            <div class="text-content">
                <h1 class="boxed">{model.howItWorks.headline}</h1>
                <h2>{model.howItWorks.subhead}</h2>
                <div class="description" data-html="howItWorks.description" skip="true"></div>
            </div>
            <div class="blurb-table boxed">
                <div each="item in model.howItWorks.blurbs" class="blurb">
                    <div class="icon">
                        <img alt="{item.iconDescription}" src="{item.imageUrl}">
                    </div>
                    <h3>{item.headline}</h3>
                    <div class="smaller">{item.description}</div>
                </div>
            </div>
        </section>
        <section id="what-students-get">
            <div class="background-imagery"></div>
            <div class="text-content">
                <h1>{model.whatStudentsGet.headline}</h1>
                <div class="description" data-html="whatStudentsGet.description" skip="true"></div>
            </div>
            <div class="boxed">
                <div class="carousel">
                    <div class="viewer">
                        <if condition="model.whatStudentsGet.currentImage">
                            <div class="viewport">
                                <if condition="model.whatStudentsGet.currentImage.url.substr(-3) === 'png'">
                                    <img class="{model.whatStudentsGet.transitioning}" alt="{model.whatStudentsGet.currentImage.description}"
                                     src="{model.whatStudentsGet.currentImage.url}">
                                 <else>
                                     <video class="{model.whatStudentsGet.transitioning}"
                                     src="{model.whatStudentsGet.currentImage.url}"
                                     controls preload="metadata">
                                     </video>
                                 </if>
                             </div>
                         <else>
                             <img alt="no selected image">
                         </if>
                    </div>
                    <div if="model.whatStudentsGet.currentImage" class="video-description">
                        <div class="content" skip="true"
                            data-html="whatStudentsGet.currentImage.description">
                            {model.whatStudentsGet.currentImage.description}
                        </div>
                    </div>
                    <div class="thumbnails">
                        <div each="item in model.whatStudentsGet.images"
                         class="{item === model.whatStudentsGet.currentImage ? 'active' : ''}">
                            <span data-html="whatStudentsGet.images[{$item}].title" skip="true"></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="feature-matrix">
            <div class="text-content two-cells">
                <div class="cell">
                    <h1 class="small-screen">{model.featureMatrix.headline}</h1>
                    <div class="flexrow" each="feature in model.featureMatrix.features">
                        <i class="{`fa fa-check-circle ${feature.available || Boolean(feature.alternate_text)}`}"></i>
                        <div>
                            {feature.name}
                            <if condition="feature.alternate_text">
                                <br>
                                <span>{feature.alternate_text}</span>
                            </if>
                        </div>
                    </div>
                    <div class="flexrow caption smaller">
                        <i class="fa fa-check-circle spacer"></i>
                        {model.featureMatrix.resourceFinePrint}
                    </div>
                </div>
                <div class="cell">
                    <h1 class="big-screen">{model.featureMatrix.headline}</h1>
                    <div class="description" data-html="featureMatrix.description" skip="true"></div>
                    <div class="box">
                        <h2>{model.comingSoon.headline}</h2>
                        <div class="future-text" data-html="comingSoon.description" skip="true"></div>
                        <img class="stamp" src="/images/openstax-tutor/icon-megaphone.svg">
                        <img class="bottom-edge" src="/images/openstax-tutor/cs-background.svg">
                        <div class="gradient-strip"></div>
                    </div>
                </div>
            </div>
        </section>
        <section id="where-money-goes">
            <div class="text-content">
                <h1>{model.whereMoneyGoes.headline}</h1>
                <div class="section-description" data-html="whereMoneyGoes.description" skip="true"></div>
            </div>
            <img class="boxed big-screen" src="/images/openstax-tutor/ten-dollars.svg"
            alt="Diagram of how we spend money"
            aria-describedby="breakdown-description"
            >
            <div id="breakdown-description" style="visibility: hidden; height: 0">
                $5 pays for our engineers and researchers.
                $3 pays for authors to keep content current.
                $1 pays for our Support team.
                $1 helps us keep the lights on.
            </div>
            <div class="boxed small-screen">
                <img src="/images/openstax-tutor/ten-dollars-mobile@2x.png">
                <div class="box">
                    <div class="flexrow">
                        <div class="dot dot-1"></div>
                        <div>Pays for our engineers and researchers</div>
                    </div>
                    <div class="flexrow">
                        <div class="dot dot-2"></div>
                        <div>Pays for authors to keep content current</div>
                    </div>
                    <div class="flexrow">
                        <div class="dot dot-3"></div>
                        <div>Pays for our Support team</div>
                    </div>
                    <div class="flexrow">
                        <div class="dot dot-4"></div>
                        <div>Helps us keep the lights on</div>
                    </div>
                </div>
            </div>
        </section>
        <section id="science">
            <div id="particles" skip="true"></div>
            <div class="text-content">
                <h1>{model.science.headline}</h1>
                <div data-html="science.description" skip="true"></div>
            </div>
        </section>
        <div class="divider">
            <img src="/images/openstax-tutor/faq-top-background.svg">
        </div>
        <section id="faq">
            <div class="boxed">
                <h1>{model.faq.headline}</h1>
            </div>
            <div class="questions text-content">
                <div each="item in model.faq.items" class="smaller qna">
                    <div class="toggled-item" role="button" data-index="{$item}">
                        <div class="question" data-html="faq.items[{$item}].question" skip="true"></div>
                        <div class="toggler{item.isOpen ? ' open' : ''}">
                            <i class="fa {item.isOpen ? 'fa-chevron-up' : 'fa-chevron-down'}"></i>
                        </div>
                    </div>
                    <div class="toggled-item {item.isOpen ? '' : 'hidden'}">
                        <div class="answer" data-html="faq.items[{$item}].answer" skip="true"></div>
                    </div>
                </div>
                <div class="see-more smaller qna" data-html="faq.knowledgeBaseCopy" skip="true"></div>
            </div>
        </section>
        <section id="learn-more">
            <div class="boxed">
                <h1>{model.learnMore.headline}</h1>
            </div>
            <div class="text-content">
                <div>{model.learnMore.subhead}</div>
                <div class="buttons-row">
                    <div each="item in model.learnMore.buttons" class="button-box">
                        <a class="btn" href="{item.url}">{item.text}</a>
                        <div class="smaller">{item.description}</div>
                    </div>
                </div>
            </div>
        </section>
    </if>
</template>
